syntax = "proto3";

package employee;

service EmployeeService {
  rpc GetEmployees(GetEmployeesRequest) returns (GetEmployeesResponse);
  rpc GetEmployee(GetEmployeeRequest) returns (Employee);
  rpc CreateEmployee(CreateEmployeeRequest) returns (Employee);
  rpc UpdateEmployee(UpdateEmployeeRequest) returns (Employee);
  rpc DeleteEmployee(DeleteEmployeeRequest) returns (DeleteEmployeeResponse);
  rpc GetEmployeeSkills(GetEmployeeSkillsRequest) returns (GetEmployeeSkillsResponse);
  rpc AddEmployeeSkill(AddEmployeeSkillRequest) returns (Skill);
  rpc RemoveEmployeeSkill(RemoveEmployeeSkillRequest) returns (RemoveEmployeeSkillResponse);
  rpc SearchEmployeesBySkills(SearchEmployeesBySkillsRequest) returns (SearchEmployeesBySkillsResponse);
}

message Employee {
  string id = 1;
  string first_name = 2;
  string last_name = 3;
  string email = 4;
  string position = 5;
  string department = 6;
  string hire_date = 7;
  repeated Skill skills = 8;
  string created_at = 9;
  string updated_at = 10;
}

message Skill {
  string id = 1;
  string name = 2;
  string category = 3;
  int32 proficiency_level = 4;
  string created_at = 5;
  string updated_at = 6;
}

message GetEmployeesRequest {
  int32 page = 1;
  int32 limit = 2;
  string sort_by = 3;
  string sort_order = 4;
  string search = 5;
  string department = 6;
}

message GetEmployeesResponse {
  repeated Employee employees = 1;
  int32 total = 2;
  int32 page = 3;
  int32 limit = 4;
}

message GetEmployeeRequest {
  string id = 1;
}

message CreateEmployeeRequest {
  string first_name = 1;
  string last_name = 2;
  string email = 3;
  string position = 4;
  string department = 5;
  string hire_date = 6;
}

message UpdateEmployeeRequest {
  string id = 1;
  string first_name = 2;
  string last_name = 3;
  string email = 4;
  string position = 5;
  string department = 6;
  string hire_date = 7;
}

message DeleteEmployeeRequest {
  string id = 1;
}

message DeleteEmployeeResponse {
  bool success = 1;
  string message = 2;
}

message GetEmployeeSkillsRequest {
  string employee_id = 1;
}

message GetEmployeeSkillsResponse {
  repeated Skill skills = 1;
}

message AddEmployeeSkillRequest {
  string employee_id = 1;
  string name = 2;
  string category = 3;
  int32 proficiency_level = 4;
}

message RemoveEmployeeSkillRequest {
  string employee_id = 1;
  string skill_id = 2;
}

message RemoveEmployeeSkillResponse {
  bool success = 1;
  string message = 2;
}

message SearchEmployeesBySkillsRequest {
  repeated string skill_names = 1;
  int32 min_proficiency_level = 2;
  bool match_all = 3;
}

message SearchEmployeesBySkillsResponse {
  repeated Employee employees = 1;
  int32 total = 2;
}